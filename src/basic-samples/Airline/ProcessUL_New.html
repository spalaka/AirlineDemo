<html lang="en">

  <head>
    <title>Solace Web Messaging API for JavaScript, Persistence with Queues tutorial - Queue Consumer</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge;" />
    <meta charset="utf-8"/>

    <link rel="stylesheet"  href="../../../cssm/jquery.mobile-1.1.0.css" />
    <link rel="stylesheet"  href="../../../cssm/styles.css" />

    <!-- Load Solace Web Messaging API for JavaScript -->
    <script src="../../../lib/solclient-debug.js"></script>
    <link rel="stylesheet"  href="../../../cssm/Boardingpass_new.css" />
  	<script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <!-- Load the Persistence with Queues - Queue Consumer  -->
    <script src="TopicPublisher.js"></script>
    <script src="solUIHelper.js"></script>
    <script src="solPubSubHelper.js"></script>

    <script src="../../../lib/jquery.js"></script>
    <script src="../../../lib/jquery.mobile-1.1.0.js"></script>

    <!-- Execute the PublishSubscribe Topic Subscriber tutorial -->
    <script>
      var publisher = null;
      var boarding = null;
      var baggage = null;
      var loyalty = null;
      window.onload = function () {
        // Initialize factory with the most recent API defaults
        var factoryProps = new solace.SolclientFactoryProperties();
        factoryProps.profile = solace.SolclientFactoryProfiles.version10;
        solace.SolclientFactory.init(factoryProps);

        // enable logging to JavaScript console at WARN level
        // NOTICE: works only with "solclientjs-debug.js"
        solace.SolclientFactory.setLogLevel(solace.LogLevel.WARN);

        // create the consumer, specifying name of the queue
        // subscriber = new QueueConsumer('tutorial/queue');
        publisher = new TopicPublisher('EK/Mediate/Passenger');
        baggage = new TopicPublisher('EK/Mediate/Baggage');
        boarding = new TopicPublisher('EK/Mediate/Boarding');

      };
      function iframeloaded(){


      };

      function scheduledPassenger(){
        publisher.connect();
        publisher.publish();
      }

      function loadBaggage(){
        baggage.connect();
        baggage.publish();
      }

      function passengerBoarding(){
        boarding.connect();
        boarding.publish();
      }
    </script>
  </head>

  <body>

  <!--- page:sec_top20_vo -->
  <div class="wrapper2">
  <div data-role="page" id="home" data-theme="a" >


  		<div data-role="main" class="ui-content">

      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <input type="button" id="ScheduledPassenger" name="ScheduledPassenger" value="Scheduled Passenger" onclick="scheduledPassenger();" padding: 15px 32px;/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>
      <br/>

      <input type="button" id="PassengerBoarding" name="PassengerBoarding" value="Board Remaining Passenger" class="bt" onclick="passengerBoarding();"/>


      <input type="button" id="LoadBaggage" name="LoadBaggage" value="Load Baggage" class="bt" onclick="loadBaggage();"/>



      <div class="wrapper">
          <div class="qr_code">
            <img src="../../../cssm/images/QR_Code.png" alt="QR_code">
        </div>
          <div class="content">
            <div class="location">
              <div class="item">
                <h1>SG</h1>
                <p>2:00AM Nov. 28 2019</p>
              </div>
              <div class="path">
                <i class="fas fa-plane"></i>
              </div>
              <div class="item">
                <h1>LFPG</h1>
                <p>12:00PM Nov. 29 2019</p>
              </div>
            </div>

            <div class="info">
              <div class="item">
                <h4>passenger</h4>
                <p>Faifi Mahmood</p>
              </div>
              <div class="item">
                <h4>flight</h4>
                <p>GF - 545</p>
              </div>
              <div class="item">
                <h4>gate</h4>
                <p>12</p>
              </div>
              <div class="item">
                <h4>seat</h4>
                <p>18W</p>
              </div>
              <div class="item">
                <h4>terminal</h4>
                <p>P4</p>
              </div>
            </div>
        </div>
      </div>
  	</div>
  </div>
  </div>
</div>
  </body>
</html>
